!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){$(document).ready((function(){const t=function(){const t=document.querySelector("#imaticSlackData");if(null!=t)return JSON.parse(t.dataset.data)}();var e=$("a[href='#history']"),n=$("#notifyToSlack");function r(t,e){t.click((function(t){t.preventDefault(),e.is(":visible")?(e.hide(),$(this).find("i").toggleClass("fa-eye fa-eye-slash")):(e.show(),$(this).find("i").toggleClass("fa-eye-slash fa-eye"))}))}e.appendTo(e.parent()),e.after(n),n.click((function(t){t.preventDefault(),t.stopPropagation();let e=$("#slackLogoButton");var n=0,r=setInterval((function(){e.css({transform:"rotate("+n+"deg)"}),n+=10}),50);$.ajax({url:$(this).attr("href"),method:"POST",success:function(t){"success"==t.status?($("#slackNotificationIcon").fadeIn().delay(1500).fadeOut(),clearInterval(r),e.css({transform:"rotate(0deg)"})):($("#slackNotificationIconError").fadeIn().delay(1500).fadeOut(),clearInterval(r),e.css({transform:"rotate(0deg)"}))},error:function(t,e,n){console.log(e+": "+n)}})})),r($("#show-channel-list"),$("#channel-list")),r($("#show-assigned-list"),$("#assigned-list"));$('form[action="bug_reminder.php"]').each((function(){var e=$(this),n=e.find('input[type="submit"]'),r=t.imatic_button_reminder_settings.iconSrc,i=t.imatic_button_reminder_settings.text,a=$("<button>").attr({type:"submit",id:"reminder-page-button",class:"btn btn-primary btn-white btn-round margin-left-8"}),o=$("<img>").attr("src",r).css("margin-right","5px");a.append(o),a.append(i),n.after(a),a.on("click",(function(t){t.preventDefault(),e.append($("<input>").attr({type:"hidden",name:"slack_notify",value:"true"})),e.submit()}))}));if($("#recipient").length>0){$("#recipient option").each((function(){const e=$(this),n=t.imatic_users_with_assigned_channels,r=t.imatic_text_after_recipient_if_has_channel,i=parseInt($(this).val());var a=e.text();c(n,i)&&e.html(a+" "+r)}));for(var i=document.getElementById("recipient"),a=[],o=i.options,s=0;s<o.length;s++)o[s].addEventListener("click",(function(){var e=(a=Array.from(o).filter(t=>t.selected).map(t=>t.value)).filter((function(e){return c(t.imatic_users_with_assigned_channels,e)})).length===a.length,n=$("#"+t.imatic_button_reminder_settings.id);1==t.imatic_button_reminder_settings.disable_if_user_not_have_assign_channel&&(e?n.prop("disabled",!1):n.prop("disabled",!0))}))}function c(t,e){return e=parseInt(e),t=t.map((function(t){return parseInt(t)})),Object.values(t).includes(e)}}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vanMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInNldHRpbmdzIiwiZWwiLCJxdWVyeVNlbGVjdG9yIiwiSlNPTiIsInBhcnNlIiwiZGF0YXNldCIsImRhdGEiLCJnZXRTZXR0aW5ncyIsImJ1dHRvbiIsIm5ld0J1dHRvbiIsInRvZ2dsZUxpc3QiLCJsaXN0IiwiY2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJpcyIsImhpZGUiLCJ0aGlzIiwiZmluZCIsInRvZ2dsZUNsYXNzIiwic2hvdyIsImFwcGVuZFRvIiwicGFyZW50IiwiYWZ0ZXIiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImxvZ28iLCJyb3RhdGlvbiIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjc3MiLCJ0cmFuc2Zvcm0iLCJhamF4IiwidXJsIiwiYXR0ciIsIm1ldGhvZCIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsInN0YXR1cyIsImZhZGVJbiIsImRlbGF5IiwiZmFkZU91dCIsImNsZWFySW50ZXJ2YWwiLCJlcnJvciIsImpxWEhSIiwidGV4dFN0YXR1cyIsImVycm9yVGhyb3duIiwiY29uc29sZSIsImxvZyIsImVhY2giLCJmb3JtIiwic3VibWl0QnV0dG9uIiwiaWNvbkltYWdlU3JjIiwiaW1hdGljX2J1dHRvbl9yZW1pbmRlcl9zZXR0aW5ncyIsImljb25TcmMiLCJidXR0b25UZXh0IiwidGV4dCIsInNpYmxpbmdCdXR0b24iLCJpY29uSW1hZ2UiLCJhcHBlbmQiLCJvbiIsInN1Ym1pdCIsImxlbmd0aCIsIl90aGlzIiwiaW1hdGljVXNlcnNXaXRoQXNzaWduZWRDaGFubmVscyIsImltYXRpY191c2Vyc193aXRoX2Fzc2lnbmVkX2NoYW5uZWxzIiwiaW1hdGljVGV4dEFmdGVyUmVjaXBpZW50SWZIYXNDaGFubmVsIiwiaW1hdGljX3RleHRfYWZ0ZXJfcmVjaXBpZW50X2lmX2hhc19jaGFubmVsIiwicmVjaXBpZW50SWQiLCJwYXJzZUludCIsInZhbCIsInVzZXJIYXNBc3NpZ25DaGFubmVsIiwiaHRtbCIsInNlbGVjdEVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNlbGVjdGVkT3B0aW9ucyIsIm9wdGlvbnMiLCJhZGRFdmVudExpc3RlbmVyIiwiYWxsVXNlcnNIYXZlQXNzaWduQ2hhbm5lbCIsIkFycmF5IiwiZnJvbSIsImZpbHRlciIsIm9wdGlvbiIsInNlbGVjdGVkIiwibWFwIiwidXNlcklkIiwic2xhY2tCdXR0b24iLCJpZCIsImRpc2FibGVfaWZfdXNlcl9ub3RfaGF2ZV9hc3NpZ25fY2hhbm5lbCIsInByb3AiLCJ2YWx1ZXMiLCJpbmNsdWRlcyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9E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aEMrRyxFQUFRL0csR0FBR2dILGlCQUFpQixTQUFTLFdBS2pDLElBSUlDLEdBUkpILEVBQWtCSSxNQUFNQyxLQUFLSixHQUN4QkssT0FBT0MsR0FBVUEsRUFBT0MsVUFDeEJDLElBQUlGLEdBQVVBLEVBQU9wRyxRQUVtQm1HLFFBQU8sU0FBVUksR0FDMUQsT0FBT2QsRUFBcUJ2RSxFQUFTaUUsb0NBQXFDb0IsTUFHdkJ2QixTQUFXYSxFQUFnQmIsT0FFOUV3QixFQUFjekYsRUFBRSxJQUFNRyxFQUFTcUQsZ0NBQWdDa0MsSUFHcUIsR0FBcEZ2RixFQUFTcUQsZ0NBQWdDbUMsMENBQ3BDVixFQUdEUSxFQUFZRyxLQUFLLFlBQVksR0FGN0JILEVBQVlHLEtBQUssWUFBWSxPQVdqRCxTQUFTbEIsRUFBcUJQLEVBQWlDcUIsR0FPM0QsT0FOQUEsRUFBU2hCLFNBQVNnQixHQUVsQnJCLEVBQWtDQSxFQUFnQ29CLEtBQUksU0FBU3RHLEdBQzNFLE9BQU91RixTQUFTdkYsTUFHYlAsT0FBT21ILE9BQU8xQixHQUFpQzJCLFNBQVNOIiwiZmlsZSI6ImltYXRpYy1zbGFjay5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuICAgIGZ1bmN0aW9uIGdldFNldHRpbmdzKCkge1xuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hdGljU2xhY2tEYXRhXCIpO1xuICAgICAgICBpZiAoZWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZWwuZGF0YXNldC5kYXRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZXR0aW5ncyA9IGdldFNldHRpbmdzKClcblxuICAgIHZhciBidXR0b24gPSAkKFwiYVtocmVmPScjaGlzdG9yeSddXCIpO1xuICAgIHZhciBuZXdCdXR0b24gPSAkKFwiI25vdGlmeVRvU2xhY2tcIik7XG5cbiAgICAvLyBNb3ZlIGJ1dHRvblxuICAgIGJ1dHRvbi5hcHBlbmRUbyhidXR0b24ucGFyZW50KCkpO1xuICAgIGJ1dHRvbi5hZnRlcihuZXdCdXR0b24pO1xuXG4gICAgbmV3QnV0dG9uLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuXG4gICAgICAgIGxldCBsb2dvID0gJChcIiNzbGFja0xvZ29CdXR0b25cIilcblxuICAgICAgICB2YXIgcm90YXRpb24gPSAwO1xuICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2dvLmNzcyh7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZShcIiArIHJvdGF0aW9uICsgXCJkZWcpXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcm90YXRpb24gKz0gMTA7XG4gICAgICAgIH0sIDUwKTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiAkKHRoaXMpLmF0dHIoJ2hyZWYnKSxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNzbGFja05vdGlmaWNhdGlvbkljb25cIikuZmFkZUluKCkuZGVsYXkoMTUwMCkuZmFkZU91dCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICBsb2dvLmNzcyh7dHJhbnNmb3JtOiBcInJvdGF0ZSgwZGVnKVwifSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAkKFwiI3NsYWNrTm90aWZpY2F0aW9uSWNvbkVycm9yXCIpLmZhZGVJbigpLmRlbGF5KDE1MDApLmZhZGVPdXQoKTtcblxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nby5jc3Moe3RyYW5zZm9ybTogXCJyb3RhdGUoMGRlZylcIn0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRleHRTdGF0dXMgKyAnOiAnICsgZXJyb3JUaHJvd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRvZ2dsZUxpc3QoJCgnI3Nob3ctY2hhbm5lbC1saXN0JyksICQoJyNjaGFubmVsLWxpc3QnKSlcbiAgICB0b2dnbGVMaXN0KCQoJyNzaG93LWFzc2lnbmVkLWxpc3QnKSwgJCgnI2Fzc2lnbmVkLWxpc3QnKSlcblxuICAgIGZ1bmN0aW9uIHRvZ2dsZUxpc3QoYnV0dG9uLCBsaXN0KSB7XG4gICAgICAgIGJ1dHRvbi5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKGxpc3QuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgICBsaXN0LmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoXCJpXCIpLnRvZ2dsZUNsYXNzKFwiZmEtZXllIGZhLWV5ZS1zbGFzaFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdC5zaG93KCk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKFwiaVwiKS50b2dnbGVDbGFzcyhcImZhLWV5ZS1zbGFzaCBmYS1leWVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLy8gQnVnIHJlbWluZGVyIG5vdGlmaWNhdGlvblxuXG4gICAgY29uc3QgZm9ybSA9ICQoJ2Zvcm1bYWN0aW9uPVwiYnVnX3JlbWluZGVyLnBocFwiXScpXG5cbiAgICBmb3JtLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZm9ybSA9ICQodGhpcyk7XG5cblxuICAgICAgICB2YXIgc3VibWl0QnV0dG9uID0gZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwic3VibWl0XCJdJyk7XG5cbiAgICAgICAgdmFyIGljb25JbWFnZVNyYyA9IHNldHRpbmdzLmltYXRpY19idXR0b25fcmVtaW5kZXJfc2V0dGluZ3MuaWNvblNyYztcbiAgICAgICAgdmFyIGJ1dHRvblRleHQgPSBzZXR0aW5ncy5pbWF0aWNfYnV0dG9uX3JlbWluZGVyX3NldHRpbmdzLnRleHQ7XG5cbiAgICAgICAgdmFyIHNpYmxpbmdCdXR0b24gPSAkKCc8YnV0dG9uPicpLmF0dHIoe1xuICAgICAgICAgICAgJ3R5cGUnOiAnc3VibWl0JyxcbiAgICAgICAgICAgICdpZCc6ICdyZW1pbmRlci1wYWdlLWJ1dHRvbicsXG4gICAgICAgICAgICAnY2xhc3MnOiAnYnRuIGJ0bi1wcmltYXJ5IGJ0bi13aGl0ZSBidG4tcm91bmQgbWFyZ2luLWxlZnQtOCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGljb25JbWFnZSA9ICQoJzxpbWc+JykuYXR0cignc3JjJywgaWNvbkltYWdlU3JjKS5jc3MoJ21hcmdpbi1yaWdodCcsICc1cHgnKTsgLy8gWm1lbmnFpSBob2Rub3R1IHBvZMS+YSBwb3RyZWJ5XG5cbiAgICAgICAgc2libGluZ0J1dHRvbi5hcHBlbmQoaWNvbkltYWdlKTtcblxuICAgICAgICBzaWJsaW5nQnV0dG9uLmFwcGVuZChidXR0b25UZXh0KTtcblxuICAgICAgICBzdWJtaXRCdXR0b24uYWZ0ZXIoc2libGluZ0J1dHRvbik7XG5cblxuICAgICAgICBzaWJsaW5nQnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICAgICAgZm9ybS5hcHBlbmQoJCgnPGlucHV0PicpLmF0dHIoe1xuICAgICAgICAgICAgICAgICd0eXBlJzogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgJ25hbWUnOiAnc2xhY2tfbm90aWZ5JyxcbiAgICAgICAgICAgICAgICAndmFsdWUnOiAndHJ1ZSdcbiAgICAgICAgICAgIH0pKTtcblxuXG4gICAgICAgICAgICBmb3JtLnN1Ym1pdCgpO1xuICAgICAgICB9KVxuICAgIH0pXG5cblxuICAgIC8vIFNob3cgaWNvbiBhZnRlciB1c2VybmFtZSBpZiB1c2VyIGhhcyBjaGFubmVsXG4gICAgY29uc3QgcmVjaXBpZW50RWxlbWVudCA9ICQoXCIjcmVjaXBpZW50XCIpO1xuICAgIGlmIChyZWNpcGllbnRFbGVtZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcmVjaXBpZW50cyA9ICQoXCIjcmVjaXBpZW50IG9wdGlvblwiKVxuXG4gICAgICAgIHJlY2lwaWVudHMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCBfdGhpcyA9ICQodGhpcylcbiAgICAgICAgICAgIGNvbnN0IGltYXRpY1VzZXJzV2l0aEFzc2lnbmVkQ2hhbm5lbHMgPSBzZXR0aW5ncy5pbWF0aWNfdXNlcnNfd2l0aF9hc3NpZ25lZF9jaGFubmVsc1xuICAgICAgICAgICAgY29uc3QgaW1hdGljVGV4dEFmdGVyUmVjaXBpZW50SWZIYXNDaGFubmVsID0gc2V0dGluZ3MuaW1hdGljX3RleHRfYWZ0ZXJfcmVjaXBpZW50X2lmX2hhc19jaGFubmVsXG5cbiAgICAgICAgICAgIGNvbnN0IHJlY2lwaWVudElkID0gcGFyc2VJbnQoJCh0aGlzKS52YWwoKSlcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gX3RoaXMudGV4dCgpO1xuXG4gICAgICAgICAgICBpZiAodXNlckhhc0Fzc2lnbkNoYW5uZWwoaW1hdGljVXNlcnNXaXRoQXNzaWduZWRDaGFubmVscywgcmVjaXBpZW50SWQpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaHRtbCh0ZXh0ICsgJyAnICsgaW1hdGljVGV4dEFmdGVyUmVjaXBpZW50SWZIYXNDaGFubmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBDaGVjayB1c2VycyBpZiBoYXMgYXNzaWduZWQgY2hhbm5lbFxuICAgICAgICB2YXIgc2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVjaXBpZW50XCIpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRPcHRpb25zID0gW107XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSBzZWxlY3RFbGVtZW50Lm9wdGlvbnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgb3B0aW9uc1tpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9ucyA9IEFycmF5LmZyb20ob3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihvcHRpb24gPT4gb3B0aW9uLnNlbGVjdGVkKVxuICAgICAgICAgICAgICAgICAgICAubWFwKG9wdGlvbiA9PiBvcHRpb24udmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHVzZXJzV2l0aEFzc2lnbkNoYW5uZWwgPSBzZWxlY3RlZE9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uICh1c2VySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJIYXNBc3NpZ25DaGFubmVsKHNldHRpbmdzLmltYXRpY191c2Vyc193aXRoX2Fzc2lnbmVkX2NoYW5uZWxzLCB1c2VySWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFsbFVzZXJzSGF2ZUFzc2lnbkNoYW5uZWwgPSB1c2Vyc1dpdGhBc3NpZ25DaGFubmVsLmxlbmd0aCA9PT0gc2VsZWN0ZWRPcHRpb25zLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIHZhciBzbGFja0J1dHRvbiA9ICQoJyMnICsgc2V0dGluZ3MuaW1hdGljX2J1dHRvbl9yZW1pbmRlcl9zZXR0aW5ncy5pZCk7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiBpcyBpbiBwbHVnaW4gY29uZmlnIGlzIHRydWUgYnV0dG9uIGJlIGRpc2FibGVkIGlmIG9uZSBvZiB1c2VycyBkb2VzIG5vdCBoYXZlIGNoYW5uZWxcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuaW1hdGljX2J1dHRvbl9yZW1pbmRlcl9zZXR0aW5ncy5kaXNhYmxlX2lmX3VzZXJfbm90X2hhdmVfYXNzaWduX2NoYW5uZWwgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFsbFVzZXJzSGF2ZUFzc2lnbkNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsYWNrQnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsYWNrQnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuICAgIC8vIEVuZCBDaGVjayB1c2VycyBpZiBoYXMgYXNzaWduZWQgY2hhbm5lbFxuXG4gICAgZnVuY3Rpb24gdXNlckhhc0Fzc2lnbkNoYW5uZWwoaW1hdGljVXNlcnNXaXRoQXNzaWduZWRDaGFubmVscywgdXNlcklkKSB7XG4gICAgICAgIHVzZXJJZCA9IHBhcnNlSW50KHVzZXJJZClcblxuICAgICAgICBpbWF0aWNVc2Vyc1dpdGhBc3NpZ25lZENoYW5uZWxzID0gaW1hdGljVXNlcnNXaXRoQXNzaWduZWRDaGFubmVscy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKGltYXRpY1VzZXJzV2l0aEFzc2lnbmVkQ2hhbm5lbHMpLmluY2x1ZGVzKHVzZXJJZCk7XG5cbiAgICB9XG59KVxuO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==